<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Отчет</title>
</head>
<body>

<button onclick="openShift()">Открыть смену</button>

<div id="mainScreen" style="display: none;">
  <div>
    <button onclick="generateReport('Отчет по кассе')">Отчет по кассе</button>
    <button onclick="generateReport('Не по кассе')">Не по кассе</button>
  </div>
  
  <div id="reportSection">
    <input type="text" id="dopZP" placeholder="ДОП-ЗП">
    <button onclick="generateReport('Отчет по кассе')">Формировать отчет</button>
    <input type="text" id="inkassation" placeholder="Инкассация">
    <button onclick="closeShift()">Закрыть смену</button>
    <div id="cashReport">
      <h3>Отчет по кассе</h3>
      <ul id="cashReportList"></ul>
    </div>
    <div id="nonCashReport" style="display: none;">
      <h3>Отчет не по кассе</h3>
      <ul id="nonCashReportList"></ul>
    </div>
  </div>
</div>

<script>
  function openShift() {
    var shop = prompt("Введите магазин:");
    var fio = prompt("Введите ФИО:");
    var date = prompt("Введите дату:");
    var salary = prompt("Введите зарплату:");
    // Дополнительная логика для открытия смены
    document.getElementById("mainScreen").style.display = "block";
  }

  function generateReport(reportType) {
    if (reportType === 'Отчет по кассе') {
      var productName = prompt("Введите название товара:");
      var quantity = parseInt(prompt("Введите количество товара:"));
      var price = parseFloat(prompt("Введите цену товара:"));
      var paymentMethod = prompt("Выберите метод оплаты (наличные/безналичные):");
      var total = quantity * price;
      var reportList = document.getElementById("cashReportList");
      var listItem = document.createElement("li");
      listItem.textContent = productName + " - " + quantity + " шт. - " + total.toFixed(2) + " руб. (" + paymentMethod + ")";
      reportList.appendChild(listItem);
    } else {
      var productName = prompt("Введите название товара:");
      var quantity = parseInt(prompt("Введите количество товара:"));
      var price = parseFloat(prompt("Введите цену товара:"));
      var paymentMethod = prompt("Выберите метод оплаты (наличные/безналичные):");
      var total = quantity * price;
      var reportList = document.getElementById("nonCashReportList");
      var listItem = document.createElement("li");
      listItem.textContent = productName + " - " + quantity + " шт. - " + total.toFixed(2) + " руб. (" + paymentMethod + ")";
      reportList.appendChild(listItem);
      document.getElementById("nonCashReport").style.display = "block";
    }
  }

  function closeShift() {
    var inkassation = prompt("Введите инкассацию:");
    var cashReportItems = document.getElementById("cashReportList").getElementsByTagName("li");
    var nonCashReportItems = document.getElementById("nonCashReportList").getElementsByTagName("li");
    var totalCash = 0;
    var totalNonCash = 0;
    for (var i = 0; i < cashReportItems.length; i++) {
      var itemText = cashReportItems[i].textContent;
      var amount = parseFloat(itemText.split(" - ")[2].split(" ")[0]);
      totalCash += amount;
    }
    for (var j = 0; j < nonCashReportItems.length; j++) {
      var itemText = nonCashReportItems[j].textContent;
      var amount = parseFloat(itemText.split(" - ")[2].split(" ")[0]);
      totalNonCash += amount;
    }
    var totalRevenue = totalCash + totalNonCash;
    var totalCashReport = "Наличные: " + totalCash.toFixed(2) + " руб., Безналичные: " + totalNonCash.toFixed(2) + " руб., Общая выручка смены: " + totalRevenue.toFixed(2) + " руб., Инкассация: " + inkassation + " руб.";
    alert(totalCashReport);
    // Дополнительная логика для закрытия смены
  }
</script>

</body>
</html>